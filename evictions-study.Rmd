---
title: "The State of Evictions:\nResults from the University of Washington Evictions Project"

author:
   - Timothy A. Thomas, Ott Toomet, Ian Kennedy, and Alex Ramiller
   - University of Washington
   - <t77@uw.edu>

date: "Updated `r Sys.Date()`"

thanks: "Funding for this scholarly research was provided in part by Enterprise Community Partners"

# output:
#   html_document:
#     toc: true
#     number_sections: true

output:
  # bookdown::pdf_book:
  bookdown::gitbook:
    config:
      toc:
        collapse: no
        scroll_highlight: yes
        before: null
        after: null
      toolbar:
        position: fixed
      edit : null
      download: yes
      search: yes
      fontsettings:
        theme: white
        family: sans
        size: 2
    sharing:
      facebook: yes
      twitter: yes
      google: no
      linkedin: no
    all: ['facebook', 'google', 'twitter', 'linkedin']

    # download:
    #   - ["book.pdf", "PDF"]

---


<!-- Packages -->
```{r include = FALSE}
  lapply(c("knitr","kableExtra","data.table","gdata","tigris","sf","scales","tidycensus","tidyverse"), require, character.only = TRUE)
  options(scipen=10) # avoid scientific notation


```

<!-- Data -->
```{r include = FALSE, cache = TRUE}

  def <-
    fread("/data/results/evictions_race_sex_2019-01-03.csv.bz2") %>%
    filter(str_detect(Participant, "^DEFENDANT -") |
         Participant == "DEF") %>%
    filter(Company == FALSE) %>%
    group_by(MainID) %>%
    mutate(DefCount = row_number()) %>%
    ungroup()

    # write_csv(def, "/data/results/eviction_race_sex_defendants_2019-01-24.csv.bz2")

  sex_ratio <-
    def %>%
    group_by(Year, County, gender) %>%
    summarise(count = n()) %>%
    spread(gender, count) %>%
    ungroup() %>%
    replace(is.na(.),0) %>%
    group_by(Year, County) %>%
    mutate(f_prop = female/sum(female, male, `<NA>`),
         m_prop = male/sum(female, male, `<NA>`),
         fm_ratio = f_prop/m_prop)


  clean <- function(x){
    format(x, big.mark = ",")}

  year_counts <-
    def %>%
    select(County, Year, Number) %>%
    distinct() %>%
    group_by(County, Year) %>%
    summarise(Count = n())

  ps_counts <-
      year_counts %>%
      filter(County %in% c("King", "Snohomish", "Pierce", "Kitsap", "Thurston", "Skagit", "Island")) %>%
      group_by(Year) %>%
      summarise(Count = sum(Count),
                County = "Puget Sound") %>%
      ungroup()

  wa_counts <-
      year_counts %>%
      group_by(Year) %>%
      summarise(Count = sum(Count),
                County = "Washington") %>%
      ungroup()

  wa_noking_counts <-
      year_counts %>%
      filter(County != "King") %>%
      group_by(Year) %>%
      summarise(Count = sum(Count),
                County = "WA No King") %>%
      ungroup()

  year_counts <-
    bind_rows(year_counts, ps_counts, wa_counts, wa_noking_counts)

  homeless <-
    fread("/data/homelessness/homeless-counts.csv.bz2") %>%
    filter(!county %in% c("Puget Sound", "Washington", "WA No King")) %>%
    mutate(county = ifelse(county == "TOTAL", "Washington", county))

  runits <-
    fread("/data/census/rental_units_cost.csv.bz2")

  # ps_homeless <-
  #   homeless %>%
  #   filter(county %in% c("King", "Snohomish", "Pierce", "Kitsap", "Thurston", "Skagit", "Island")) %>%
  #   group_by(year) %>%
  #   summarise(homeless = sum(homeless),
  #             county = "Puget Sound") %>%
  #   ungroup()

  # wa_homeless <-
  #   homeless %>%
  #   group_by(year) %>%
  #   summarise(homeless = sum(homeless),
  #             county = "Washington") %>%
  #   ungroup()

  # wa_noking_homeless <-
  #   homeless %>%
  #   filter(county != "King") %>%
  #   group_by(year) %>%
  #   summarise(homeless = sum(homeless),
  #             county = "WA No King") %>%
  #   ungroup()

  # homeless <-
  #   bind_rows(homeless, ps_homeless, wa_homeless, wa_noking_homeless)

  change_units <- function(place){
    runits %>%
    mutate(Rent = factor(Rent, levels = c("$2,000 or more",
                        "$1,500 to $1,999",
                        "$1,000 to $1,499",
                        "$800 to $999",
                        "$500 to $799",
                        "Less than $500"))) %>%
    group_by(NAME, year, Rent, tot) %>%
    summarise(count = sum(count, na.omit = TRUE)) %>%
    mutate(prop = count/sum(count, na.omit = TRUE)) %>%
    filter(NAME == place,
         !year %in% c(2013, 2014, 2015, 2016)) %>%
    group_by(year) %>%
    mutate(tot = sum(count, na.omit = TRUE)) %>%
    group_by(Rent, year) %>%
    summarise(count = sum(count, na.omit = TRUE),
          tot = tot) %>%
    filter(Rent %in% c("$500 to $799", "Less than $500"),
         year %in% c(2000, 2017)) %>%
    group_by(year, tot) %>%
    summarise(count = sum(count, na.omit = TRUE)) %>%
    ungroup() %>%
    mutate(prop = count/tot,
           ch_tot = lead(tot) - tot,
           ch_afh = lead(count) - count)}

  hhinc <- fread("/data/census/household_income.csv.bz2")

  clean_def <-
    def %>%
    mutate(NameDupe = ifelse(grepl("ALL OTHERS", CleanName) |
                  grepl("DOE, JOHN", CleanName) |
                  grepl("DOE, JANE", CleanName) |
                  grepl("JOHN DOE", CleanName) |
                  grepl("JANE DOE", CleanName) |
                  grepl("DOE, JOHN & JANE", CleanName) |
                  grepl("DOE, JOHN/JANE", CleanName) |
                  grepl("DOES, JOHN", CleanName) |
                  grepl("ET AL", CleanName), 1, 0)) %>%
    filter(NameDupe == 0)


  adults5yr <- fread("/data/census/adults5yr.csv.bz2")

      overallevictionrates <-
        clean_def %>%
        group_by(Year) %>%
        summarise(count = ev <- n()) %>%
        filter(Year >= 2013) %>%
        ungroup() %>%
        summarise(count = sum(count)) /
        adults5yr %>%
        summarise(total = sum(Total))*100

  tract_race <-
      clean_def %>%
      filter(Year > 2012) %>%
      group_by(County, tract_race) %>%
      summarise(sample_count = n()) %>%
      na.omit %>%
      group_by(County) %>%
      mutate(sample_prop = sample_count/sum(sample_count)) %>%
      ungroup() %>%
      rename(race = tract_race)

    # Now, get the total number of evictions for the three counties by 2013 to 2017
  ev_race_est <-
    clean_def %>%
    filter(County %in% c("King", "Pierce", "Whatcom"),
         Year > 2012) %>%
    group_by(County, StCoFips) %>%
    summarise(total_ev = n()) %>%
    left_join(tract_race, .) %>%
    group_by(County) %>%
    rename(GEOID = StCoFips) %>%
    mutate(ev_samp = sum(sample_count),
         est_ev = total_ev*sample_prop,
         se = sqrt(sample_prop*(1-sample_prop))/ev_samp,
         ciplus = sample_prop+se*1.96,
         cimin = sample_prop-se*1.96) %>%
    ungroup()

    # now get the adults for each racial group

  ### Census renters by race - proportion of renters by race from 2013 to 2017

  ev_ratio <-
    left_join(ev_race_est, adults5yr %>%
              select(GEOID, white:other) %>%
              mutate(GEOID = as.numeric(GEOID)) %>%
              gather(race, adults, white:other)) %>%
              mutate(ev_rate = est_ev/adults)

  King_whrate <-
    ev_ratio %>%
    filter(race == "white",
           County == "King") %>%
    pull(ev_rate)

  Pierce_whrate <-
    ev_ratio %>%
    filter(race == "white",
           County == "Pierce") %>%
    pull(ev_rate)

  Whatcom_whrate <-
    ev_ratio %>%
    filter(race == "white",
           County == "Whatcom") %>%
    pull(ev_rate)

  ev_ratio <-
    ev_ratio %>%
    mutate(ratio_wht = if_else(County == "King",
                               ev_rate/King_whrate,
                       if_else(County == "Pierce",
                               ev_rate/Pierce_whrate,
                       if_else(County == "Whatcom",
                               ev_rate/Whatcom_whrate,
                               NA_real_))),
           race = if_else(race == "asian", "Asian",
                  if_else(race == "black", "Black",
                  if_else(race == "latinx", "Latinx",
                  if_else(race == "other", "Other",
                  if_else(race == "white", "White", NA_character_))))))
```

# Executive Summary {#index}

[Link to see recent updates and corrections](#correct)

<!-- In 2008, the Great Recession In 2018, the number of Washington State's homelessness population has risen to match Great Recession numbers. The cause: rising rents and stagnant wages.  about 46% of the states population has been rentburden  while, at the same time, more households  with an increase in the number of individuals experiencing homelessness has reached Great Recession numbers, and rapidly increasing rents are leaving low-income families with few options to live. The consequences of -->

Evictions contribute to homelessness due to rising rents, the lack of affordable housing, and rent burden.^[_Funding for this scholarly research was provided in part by Enterprise Community Partners_]  In 2018, the number of citizens who were homeless reached Great Recession numbers.^[This count underestimates the total number of those experiencing homelessness as it does not include people that are doubling up with friends or family.] The average rent in all of Washington rose from under $800 to $1,000 between 2003 and 2019, which means you need to make about $40,000 in 2019^[[Housing and Urban Development Fair Market Rent Data](https://www.huduser.gov/portal/datasets/fmr.html#2019_data)] to avoid rent burden (paying more than 30% of your income to rent). In order to afford to rent an average-priced home in King County, where rents have reached $2,200, you need to make about $90,000, in Clark County you need about $65,000, and in Pierce you need about $55,000.^[[HUD FMR Data](https://www.huduser.gov/portal/datasets/fmr.html#2019_data)]

Current homelessness is related to the rapid population growth in the major metropolitan areas with housing construction not being able to keep pace with demand. For instance, between 2010 and 2017, the population in King county rose from 1.931 to 2.189 million,^[US Census] a growth of 13.3%.  At the same time the number of housing units rose by 7.9%, from 835,600 to 902,100.^[American Community Survey] As result, Washington State has lost over 90,554 affordable rentals^[Affordable rentals are units that are $800 or less in 2017 dollars and adjusted for inflation.] since 2000, where 85% (76,865) of those homes disappeared between 2012 and 2017.^[U.S. Census] These affordable units were lost to either increased rent or demolition. As a result of  growing inequality,^[Economic Policy Institute estimates that between 2009-2015, the top 1% of income earners captured 42% of the total income growth in Washington State.] the current housing crisis is  more concentrated toward the low wage population. During the Great Recession, households lost their homes due to a broad economic crisis impacting every facet of the economy but today, the it is mostly impacting a portion of the population that never really recovered from the recession.

Research shows that low-income households are most likely to be evicted where stagnant wages and inadequate welfare are unable to compete with increases in rent. Research also shows that 80% to 90% of evictions are due to falling behind on rent where over 1/3rd of the defendants in the study were contributing over 80% of their income to rent.^[[Brophy, Paul C., and Rhonda N. Smith. "Mixed-income housing: Factors for success." Cityscape (1997): 3-31.](https://www.jstor.org/stable/pdf/41486509.pdf)] ^[[Desmond, Matthew. "Unaffordable America: Poverty, housing, and eviction." Fast Focus: Institute for Research on Poverty 22, no. 22 (2015): 1-6.](https://scholar.harvard.edu/mdesmond/publications/unaffordable-america-poverty-housing-and-eviction)] In 2017, 46% of Washington households were rent burdened (contributing more than 30% of your income to rent) with about half of those households contributing more than 50% of their income to rent. This means that thousands of households are constantly on the verge of losing their home to an increase in rent or eviction due to rent burden.

The University of Washington's Eviction Project was formed in the Summer of 2018 to measure and analyze this complex issue of evictions using court records, census data, and housing market trends across the state. We combine advanced data science techniques with demographic, urban sociology, and economic theory to understand how rent, changing neighborhoods, homelessness, and evictions relate to housing insecurity.

What we have found so far is troubling.

___Washington Evictions Are:___

1. ___Pervasive___
    * Between 2013 and 2017, 1 in 55 Washingtonian adults had an eviction (130,203 adults which equals 1.8% of the State's adult population)
    * Between 2004 and 2017, 397,697 adults have received a formal eviction.


2. ___A Civil Rights Issue___
    * Black adults are over-represented in the eviction process when their group's population consists of at least 5% of the county's total population.
    * In Pierce County, 1 in 6 black adults has had an eviction between 2013 and 2017. In King County, 1 in 11 black adults has had an eviction in King County over the same time period. For white adults, 1 in 50 in Pierce County and 1 in 100 in King were evicted.
    * Women are evicted more than men across the state.


3. ___Legally Under-Represented___
    * only 8% of unlawful detainer defendants had legal representation at some point in their eviction process.
    * The most common resolution for an eviction is a default judgment--a no-show to a court hearing. In these circumstances, unlawful detainer defendants are almost guaranteed to receive the maximum penalty and fines requested by the landlord, putting them further behind than just losing their home.

## The purpose of this website
In light of the increases of rent and lack of affordable housing, there is no wonder why we are seeing an increase in the number of citizens who are homeless. Given that evictions contribute to this problem, and that it is a highly understudied phenomenon in Washington, we believe it is important to share these findings with the public as soon as possible, raise awareness to the issue, and provide tools for policymakers to address this issue. In most contexts, academics publish these types of findings in journals that rarely reach the public eye. Therefore, we created this website to host a living document that will be frequently updated as we find new results. This early version shows the basics of what we have found so far. Over the next year, we will be adding more content and context.

## How to use this website
This document is laid out in sections where, on the left, you will see a table of contents that you can easily navigate. You will also notice arrows on either side of the text that you can use to navigate to the previous or next section.


<!-- ##  Why are evictions a civil rights issue and not just an economic issue?

Given that evictions with the black and Latinx population our findings of disproportionality among    and taking into account prior research on racial disparities in evictions and at large for the black population, we identify three intersectional dynamics that make evictions among black individuals

1. Differential exposure
    * We observe that the rate of evictions is disproportionately higher among Washington's black population over any other group. This means that black adults are at the highest risk of eviction between 5 and 7 times more than white adults.
2. Additional inequities and burden
    * Unobserved mechanisms that put black adults at a greater disadvantage in everyday life.
      - They are exposed to additional burdens, inequities, and institutional discrimination
      - Evidence -->
<!-- 3. differential direct-effect -->
<!-- * A white tenant with the same characteristics as a black tenant may be less likely to be evicted -->
<!-- - Evidence -->

# Introduction and Background

The mark of an eviction has long lasting consequences for individuals. It prevents households from being able to achieve favorable and affordable housing in good neighborhoods^[[Casciano, Rebecca, and Douglas S. Massey. "Neighborhood disorder and anxiety symptoms: new evidence from a quasi-experimental study." Health & place 18, no. 2 (2012): 180-190.](https://www.sciencedirect.com/science/article/pii/S1353829211001638)] and leads to prolonged searches for housing^[Atkinson, 2002; Smith, 1996] that leave ample time for families to experience short-term and long-term homelessness.^[Curtis et al., 2013] Studies show that at least 80% to 90%
of households were evicted for falling behind on rent^[10% to 20% were for breaking rules.] with about 1/3rd of households allocating at least 80% of their income to rent.^[[Brophy, Paul C., and Rhonda N. Smith. "Mixed-income housing: Factors for success." Cityscape (1997): 3-31.](https://www.jstor.org/stable/pdf/41486509.pdf)] ^[[Desmond, Matthew. "Unaffordable America: Poverty, housing, and eviction." Fast Focus: Institute for Research on Poverty 22, no. 22 (2015): 1-6.](https://scholar.harvard.edu/mdesmond/publications/unaffordable-america-poverty-housing-and-eviction)] In Seattle, Washington, many households were evicted for owing less than $100 in rent^[[Losing Home report](https://www.kcba.org/Portals/0/pbs/pdf/Losing%20Home%202018.pdf)] with most evictions occurring in diverse, gentrifying, and the lowest rent neighborhoods.^[[Thomas, Timothy Andrew. "Forced Out: Race, Market, and Neighborhood Dynamics of Evictions." PhD diss., 2017.](https://digital.lib.washington.edu/researchworks/handle/1773/40705)] At the household level, evictions are a function of low, stagnant wages (i.e. unchanging minimum, or just above minimum, wages) and inadequate public assistance not being able to compete with rising rents.^[[Desmond, Matthew. "Eviction and the reproduction of urban poverty." American Journal of Sociology 118, no. 1 (2012): 88-133.](https://scholar.harvard.edu/mdesmond/files/desmond.evictionpoverty.ajs2012.pdf)] The most vulnerable are women with children who have larger expenses but smaller incomes^[Desmond, 2015; Desmond et al., 2013] and persons of color.^[[Forced Out.](https://digital.lib.washington.edu/researchworks/handle/1773/40705)]


# Data and Methods

This study utilizes eviction court records to understand the count and demographics of those that are evicted. Evictions in this report are defined as the count of unlawful detainer court records in the State of Washington. An unlawful detainer is a court ordered eviction process filed by a landlord to remove a tenant with the most common reason being falling behind on rent. In short, a landlord posts an eviction notice for a tenant to pay or leave within 3 days of notice. If the tenant cannot comply, the landlord then gives the tenant a summons and complaint to which the tenant must respond within a week. Next, the parties go to court to determine whether to issue a writ of restitution (removal of the tenant by the Sheriff) or if the tenant wins the case leading to a dismissal (see the [Losing Home report](https://www.kcba.org/Portals/0/pbs/pdf/Losing%20Home%202018.pdf), pg. 13, for a concise description of the most common unlawful detainer practices).

Given this definition, we consider all eviction counts in this study to be "formal evictions." Informal eviction data on tenants vacating within the 3-day notice or prior to notice due to an increase in rent is not available.

Eviction counts are analyzed using a full list of unlawful detainer court cases and names provided by the Washington State Superior Court. We also combine population, rental, income, and market data from the US Decennial and American Community Survey population and rental unit estimates, Housing and Urban Development fair market rent trends, the Washington State Department of Commerce Homelessness Point in Time Counts, and the Bureau of Labor Statistics Consumer Price Index to adjust yearly monetary amounts to 2017 dollars.

To better understand both who is evicted and how broader contexts affect evictions, we developed a multi-level approach to collecting and processing novel eviction data. The analysis is based on automatically processing the actual pages from the eviction court documents, converting the eviction addresses to census tracts, and estimating race and sex based on the name and tract. We have two types of information available to us: first, the summary tables of all the eviction cases provided by the State Court and second the the eviction lawsuit court records for selected counties provided by each individual county court clerks office. The list of all evictions are by county from 2004 to 2017 and includes case numbers, the names of all parties involved (defendants, plaintiffs, and attorneys), case resolution of the eviction, and judgment amounts. Missing causes of evictions and demographic detail requires us to review actual court records to obtain more detailed information. The court records are in the form of unstructured photocopies. Broadly, we perform the following tasks in this order:

First, we download the records from courts' information systems of the  corresponding counties.^[Currently, we have completed the download and processing data for Pierce, Snohomish, and Whatcom county, and some of the King county (i.e. city of Seattle). Access to these data is both costly and requires establishing a relationship with each county clerk in the state.] As the courts' information systems do not have easy-to-access web APIs, this involves developing custom web scraping scripts.  Courts' keep their documents either in pdf or in tagged image file (TIF) format.  We convert these documents into high-resolution (250 dpi) individual page images, and the images in turn into text using _tesseract 4.0_ OCR software.

Thereafter we extract the eviction addresses from the texts.  Our current approach uses regular expression-based matching in order to detect addresses. We chose this approach partly because of its simplicity, and partly because it requires less training data than the alternatives, neural-network based named entity recognition. Regular expressions and related methods are popular in performing similar tasks.

As the documents may contain more addresses than that of the premises, such as the address of the attorney or landlord, we evaluate the likelihood of the address being the correct one.  We collect words from the text in the neighborhood where the address is written (10 words before and 10 words after the address) and evaluate the type of the address based on these bag-of-words using Naive Bayes.  The approach works very well for addresses extracted from eviction summons (these are written in a fairly standard format). If the algorithm cannot find the correct address in the summons file, it also scans all the other available documents, and picks the address it considers most likely.  In those cases our correct address selection algorithm is less robust.

The accuracy of the full address extraction for about 40,000 cases is approximately 75\%.  The main issues are a) ocr errors that introduce wrong names (e.g. _Bellmgham_ instead of _Bellingham_ or _sth street_ instead of _5th street_), b) missing zip codes in documents, and c) picking wrong address out of several addresses.  The latter usually happens if the address is handwritten in the summons (or sometimes the address does not exist in printed form at all) as our address correctness estimate is less robust for address extracted from different files.

Third, the extracted addresses are geocoded through ESRI's ArcMap software, which uses an "address locater" database to match each input address to a set of geographic coordinates. ArcMap also assigns each input address an "Address Type", which specifies the point of reference that ArcMap uses to determine coordinates for each address. These "Address Type" categories largely reflect administrative units such as "Admin" (state), "SubAdmin" (county), "Postal" (ZIP code), and "Locality" (municipality). This categorization provides an indication of address-matching accuracy, because each category represents the centroid of an administrative jurisdiction. If a given address is assigned an "Admin" match type, therefore, the geographic coordinates provided by ArcMap represent the geographic center of a given state rather than the precise coordinates of the address location. Similarly, "SubAdmin", "Postal", and "Locality" represent the centroids of counties, ZIP codes, and municipalities respectively. Therefore, our measure of a successful address match is one in which the address match type is either "Street Address" or "Point Address", which indicate that the given coordinates closely reflect the actual address location.

With this metric for a successful address match, we carry out geocoding in three steps. First, we geocode all extracted addresses in ArcMap. Second, we take any addresses that are not successfully matched and standardize their address format using Google's geocoding API. Finally, these addresses are geocoded once again in ArcMap. Any addresses without a successful match following these two rounds of geocoding are discarded. The first round of geocoding had an address match success rate of approximately 60%. After the google validation, the overall success rate increased to 93.6%. Tract FIPS codes were then spatially joined to each of the cases with a successful address allowing us to estimate the sex and race of individuals using their name and location.

Using these addresses, race is estimated through a Bayesian prediction model using surname and geolocation. This ecological inference method developed by Imai and Khanna^[[Imai, Kosuke, and Kabir Khanna. "Improving ecological inference by predicting individual ethnicity from voter registration records." Political Analysis 24, no. 2 (2016): 263-272.](http://imai.princeton.edu/research/files/race.pdf)] utilizes the Bayes’ rule to examine the racial likelihood of frequently occurring surnames within Census name data and the racial composition for each neighborhood (tract data) where the evicted defendant lived. Using these two pieces of information, we compute the predicted probability of each racial category (White, Black, Latinx, Asian, or other) for any given individual. For example, a person with the last name Jackson, a common Black surname, living in a high-Black neighborhood would have a higher likelihood of being Black. Whereas the same name found in a high-White neighborhood would have a lower probability of being Black. Neighborhood racial composition is defined by the 2010 Decennial Census tract geography. Sex is inferred by cross-validating the first name of the individual with the Social Security Administration (SSA) Name Registry from 1932 to 2012 and the US Census Integrated Public Use Microdata Series (IPUMS).

# Results
## Eviction Counts
```{r evictioncounts, echo = FALSE, message = FALSE, fig.cap = "Unlawful Detainer Cases by Washington County", cache = TRUE}

  ggplot(data = year_counts %>%
                     filter(!County %in% c("Washington", "Puget Sound", "WA No King"))) +
    geom_line(aes(x = Year, y = Count, color = County), size = 1) +
    theme_minimal() +
    theme(legend.position="none",
        axis.text.x = element_text(angle = -45, hjust = 0),
        panel.grid.minor.x = element_blank()) +
    geom_text(data = year_counts %>%
             filter(Year == 2015,
                    !County %in% c("Washington", "Puget Sound", "WA No King")),
             aes(label = County,
            x = Year + 1,
            y = Count,
            color = County),
          nudge_y = 175,
          nudge_x = -.5,
          fontface = "bold",
          check_overlap = TRUE) +
    geom_text(data = year_counts %>%
             filter(Year %in% c(2005, 2007, 2009, 2011, 2013, 2017),
                    !County %in% c("Washington", "Puget Sound", "WA No King")),
             aes(label = clean(Count),
               x = Year + 1,
               y = Count,
               color = County),
             nudge_y = 200,
             nudge_x = -.7,
             size = 3,
             check_overlap = TRUE) +
    labs(y = "Count",
       x = "Year",
       title = "Washington Eviction Counts") +
    scale_y_continuous(labels = scales::comma) +
    scale_x_continuous(breaks=c(2004:2017))

  # ==========================================================================
  # Count and proportion of people who are low income - 190121
  # ==========================================================================

  # hhinc %>%
  #   unite(s_y, survey, year, remove = FALSE) %>%
  #   filter(s_y != "acs5_2017") %>%
  #   group_by(NAME, year, type) %>%
  #   summarise(ami80 = sum(AMI80_pop)) %>%
  #   ungroup() %>%
  # filter(type == "HHInc",
  #      NAME %in% c("King", "Pierce", "Snohomish", "Spokane", "Clark")) %>%
  # ggplot() +
  #   geom_line(aes(y = ami80, x = year, color = NAME))

```

Between 2013 and 2017, 1 in 55 (`r round(overallevictionrates, 1)`\%) Washingtonian adults faced an eviction. Figure \@ref(fig:evictioncounts) shows the number of unlawful detainer court cases from 2004 to 2017 across the state of Washington by county. With the exception of King, most counties experienced a steady count of evictions, with the top five most populated counties facing well over 1,000 evictions per year. King (green) saw a peak in evictions just before the end of the Great Recession, which ended around 2009, tapering off during recovery, and then a steady count from 2012.

While the decline in evictions seems promising, a brief study from the Urban Institute suggests that the loss of affordable housing and a drop in the area's low-income population coincides with declines in evictions. In other words, declines in evictions may be because King County evicted everyone they could.^[[Urban Institute 2018: DC’s Eviction Filings Are Down. Are High Rents to Blame?](https://howhousingmatters.org/articles/dcs-eviction-filings-high-rents-blame/)] Section 5 goes further into this discussion, but in brief, Washington has lost 76,865 affordable homes at $800 or less since 2012, coinciding with an increase in homelessness that matches Great Recession numbers. Given that eviction is a leading cause of homelessness^[[Crane, Maureen, and Anthony M. Warnes. "Evictions and prolonged homelessness." Housing studies 15, no. 5 (2000): 757-773.](https://www.tandfonline.com/doi/abs/10.1080/02673030050134592)] ^[[Desmond, Matthew. "Eviction and the reproduction of urban poverty." American Journal of Sociology 118, no. 1 (2012): 88-133.](https://scholar.harvard.edu/mdesmond/files/desmond.evictionpoverty.ajs2012.pdf)] ^[[Curtis, Marah A., Hope Corman, Kelly Noonan, and Nancy E. Reichman. "Life shocks and homelessness." Demography 50, no. 6 (2013): 2227-2253.](http://www.nber.org/papers/w16826.pdf)] it seems likely that lower evictions might decline when homelessness is high and affordable housing is scarce.


```{r evictioncountycounts, echo = FALSE, message = FALSE, fig.cap = "Unlawful Detainer Cases by Washington County", cache = TRUE}

knitr::kable(
all_ev_co <-
  year_counts %>%
  group_by(County) %>%
  mutate(Total = sum(Count)) %>%
  spread(Year, Count) %>%
  replace(is.na(.), 0) %>%
  mutate_at(vars(-County), funs(clean)),
  caption = "Eviction counts by County and Year",
  align = 'r',
  full_width = F) %>%
  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive")) %>%
  scroll_box(width = "100%", height = "500px")

```

<!-- Past research shows that those who are at the greatest risk of eviction are low-income households because stagnant wages and inadequate welfare are unable to compete with rising rents^[[Desmond, Matthew. "Eviction and the reproduction of urban poverty." American Journal of Sociology 118, no. 1 (2012): 88-133.](https://scholar.harvard.edu/mdesmond/files/desmond.evictionpoverty.ajs2012.pdf)]. A large portion of the evicted are mothers with children^[[Desmond, Matthew, Weihua An, Richelle Winkler, and Thomas Ferriss. "Evicting children." Social Forces 92, no. 1 (2013): 303-327.](https://pdfs.semanticscholar.org/f573/43c7b21e13a464f2640734a1494e0dc98b1f.pdf)] and persons of color that live in the most racially diverse and lowest rent neighborhoods^[[Thomas, Timothy Andrew. "Forced Out: Race, Market, and Neighborhood Dynamics of Evictions." PhD diss., 2017.](https://digital.lib.washington.edu/researchworks/handle/1773/40705)]. Declines in affordable housing means there is no where for them to go and they either are displaced out of the county or may enter into the homeless population (we explore this in section 2 below).

* Number of new homes coming in are coming at a higher price -->



## Default Judgments

<!-- default judgments -->
```{r defaultcount, echo = FALSE, message = FALSE, fig.cap = "Default Judgment Counts and Percents by Washington County", cache = TRUE}

  default_counts <- def %>%
          # filter(Resolution == "DEFAULT JUDGMENT") %>%
          group_by(County, Year, Resolution) %>%
          select(Number) %>%
          distinct() %>%
          summarize(count = n()) %>%
          group_by(County, Year) %>%
          mutate(rate = count/sum(count))

    wa_defaultcounts <-
      default_counts %>%
      group_by(Year, Resolution) %>%
      summarise(WA_Count = sum(count)) %>%
      group_by(Year) %>%
      mutate(Rate = WA_Count/sum(WA_Count))

      # wa_defaultcounts %>% filter(Resolution == "DEFAULT JUDGMENT")
      # wa_defaultcounts %>%
      #   group_by(Resolution) %>%
      #   summarise(count = sum(WA_Count)) %>%
      #   ungroup() %>%
      #   mutate(rate = count/sum(count)) %>%
      #   data.frame()

  judge_ratio <-
    def %>%
    mutate(County = if_else(County != "King" &
                  County != "Snohomish" &
                  County != "Pierce" &
                  County != "Spokane"&
                  County != "Clark", "Other WA Counties", County)) %>%
    group_by(County, Year, Resolution) %>%
    summarise(count = n()) %>%
    group_by(County, Year) %>%
    mutate(p = count/sum(count)) %>%
    filter(Resolution == "DEFAULT JUDGMENT")

  ggpubr::ggarrange(
  ggplot(default_counts %>%
      filter(Resolution == "DEFAULT JUDGMENT"),
       aes(x = Year, y = count, color = County)) +
      geom_line(size = 1) +
      theme_minimal() +
      theme(legend.position="none",
          axis.text.x = element_text(angle = -45, hjust = 0),
          panel.grid.minor.x = element_blank()) +
      geom_text(data = default_counts %>% filter(Resolution == "DEFAULT JUDGMENT")%>% filter(Year == 2006),
             aes(label = County,
                 x = Year + 1,
                          y = count),
             nudge_y = 150,
             nudge_x = -.5,
             fontface = "bold",
            check_overlap = TRUE) +
      labs(y = "Count",
         x = "Year") +
      scale_y_continuous(labels = scales::comma) +
      scale_x_continuous(breaks=c(2004:2017)),
  ggplot(data = judge_ratio) +
      # geom_line(aes(x = Year, y = p, color = County), alpha = .4) +
      geom_smooth(aes(x = Year, y = p, color = County), se = FALSE) +
      theme_minimal() +
      scale_y_continuous(labels = scales::percent) +
      labs(title = ,
            x = "Year",
            y = "") +
      theme(axis.text.x = element_text(angle = -45, hjust = 0),
          panel.grid.minor.x = element_blank()) +
      scale_x_continuous(breaks=c(2004:2017)),
  ncol=1,
  nrow = 2,
  common.legend = FALSE)

```

One surprising trend is the number of default judgments (no-shows to court) among unlawful detainers. The figure above shows the count and percent of cases that were default judgments. By count, most occurred during the great recession. However, the percentage of cases that were defaults tells a different story. Spokane County saw a steady trend of about 45% of cases defaulting, while Snohomish, Pierce, and Clark peaked around 45% to 50% in 2006, landing to around 30% and 35% by 2017. King, on the other hand, is above Great Recession percents hovering just under 50%.

The consequence of no-show outcomes almost surely guarantees that the tenant will face the strictest enforcement and costs of an eviction. A recent study in Seattle found that the median court costs for over 1,000 cases in 2017 was $3,129.73, which included owed rent, non-rent charges, and legal costs.^[[Losing Home report](https://www.kcba.org/Portals/0/pbs/pdf/Losing%20Home%202018.pdf)] In addition to the mark of an eviction, these costs compound the already dire consequences of evictions.

## Representation

```{r representation, echo = FALSE, message = FALSE, fig.cap = "Average legal representation for all counties in Washington State from 2004 to 2017", cache = TRUE}

  rep_year <-
    def %>%
    select(Year, County, MainID, DefRep, Resolution) %>%
    distinct %>%
    filter(Resolution != "DEFAULT JUDGMENT") %>%
    group_by(Year, County, DefRep) %>%
    summarise(CaseCounts = n()) %>%
    spread(DefRep, CaseCounts) %>%
    replace(is.na(.), 0) %>%
    rename(NoRep = `FALSE`, Rep = `TRUE`) %>%
    group_by(County, Year) %>%
    mutate(RepRate = Rep/sum(Rep,NoRep),
         RepRatio = round(Rep/NoRep*1000)) %>%
    group_by(County) %>%
    mutate(CountyRepRate = Rep/sum(Rep, NoRep)*1000) %>%
    ungroup()

  rep_year %>% group_by(County) %>% mutate(MeanRepRate = mean(RepRate)) %>%
  ggplot(aes(x = reorder(County, MeanRepRate), y = MeanRepRate)) +
    geom_violin(aes(x = reorder(County, MeanRepRate), y = RepRate)) +
    geom_point() +
    coord_flip() +
    geom_text(x = 38.7, y = -.015, label = "*", color = "red") +
    geom_text(x = 2.7, y = -.015, label = "*", color = "red") +
    geom_text(x = 6.7, y = -.015, label = "*", color = "red") +
    geom_text(x = 11.7, y = -.015, label = "*", color = "red") +
    geom_text(x = 28.7, y = -.015, label = "*", color = "red") +
    labs(title = "Average Representation Rate for Non-Default Judgement Cases\nby County with Distributions Across Years",
       subtitle = "Black Dot = Average representation rate\nDistribution = Min/Max from 2004 to 2017\nRed Astrick = High population county",
       x = "",
       y = "Representation Rate")
```

One of the suggestions in helping ameliorate the negative affects of an eviction filing is to have legal representation during the court proceedings. The same Seattle study in 2017^[[Losing Home report](https://www.kcba.org/Portals/0/pbs/pdf/Losing%20Home%202018.pdf)] found that defendants that had legal representation were twice as likely to stay in their homes as compared to pro-se representation. Less than 8% of all Washington defendants had an attorney named on their behalf in our data. One caveat to this number is that a named attorney does not equate representation during trial, but rather, there was some attorney working on some part of the case (i.e. not necessarily present before the judge). Realistically, attorney representation at the time of trial would speculatively fall several percentage points below 8% for all defendants. Among all the 39 counties in Washington, only 9 counties had an average representation rate at or above 8%. Figure \@ref(fig:representation) shows the average representation for each county from 2004 to 2017, where black dots represent the average and the density bands show the variation in representation over time. King County had the most representation ranging from under 14% to one time to 33% and an average of about 21%. This high level of representation for defendants may be related to the efforts of volunteer law programs such as the Housing Justice Project that represents defendants on the day of their trial. Regardless, the rates of eviction in King County are still some of the highest in the state. The red dots on the left identify the top 5 most populated counties. As you can see, Pierce, Clark, Spokane, and Whatcom counties still have extremely low representation averages below the state average of 8%.

## Sex of the evicted

```{r ftmratiofig, echo = FALSE, message = FALSE, fig.cap = "Female to Male Ratio in Evictions by WA County", cache = TRUE}

  wa_fmratio <-
  sex_ratio %>%
  ungroup() %>%
  summarise(sum(female, na.rm = TRUE)/sum(male, na.rm = TRUE),
        sum(female), sum(male), sum(`<NA>`))

  subset_sex_ratio <-
    sex_ratio %>%
    ungroup %>%
    select(Year, County, either:`<NA>`) %>%
    mutate(County = if_else(County != "King" &
                  County != "Snohomish" &
                  County != "Pierce" &
                  County != "Spokane"&
                  County != "Clark", "Other", County)) %>%
    group_by(County, Year) %>%
    summarise(either = sum(either),
          female = sum(female),
          male = sum(male),
          unknown = sum(`<NA>`),
          f_prop = female/sum(female, male, unknown),
          m_prop = male/sum(female, male, unknown),
          fm_ratio = f_prop/m_prop)


  ggplot(subset_sex_ratio) +
    geom_point(aes(x = Year, y = fm_ratio, color = County), alpha = .5) +
    geom_smooth(aes(x = Year, y = fm_ratio, color = County), se = FALSE) +
    theme_minimal() +
    theme(axis.text.x = element_text(angle = -45, hjust = 0),
        panel.grid.minor.x = element_blank()) +
    geom_hline(yintercept = 1, linetype = "dashed") +
    scale_color_brewer(palette = "Dark2",
               breaks=c("Pierce", "Other", "Spokane", "Clark", "Snohomish", "King"),
               labels=c("Pierce", "Other", "Spokane", "Clark", "Snohomish", "King")) +
    scale_x_continuous(breaks=c(2004:2017)) +
    labs(y = "Female to Male Ratio",
       x = "Year",
       caption = "Data source: UW Washington Evictions Project data",
       title  = "Female to male ratio of evictions",
       subtitle = "Values above 1.0 = more women faced eviction")
```

Across Washington state, females were evicted 6% more than males (189,053 females, 178,500 males, and 30,143 unknown).^[We estimate the sex of the evicted, based on the names on the eviction summons. Note that summons may not include all persons living in the premises, but most likely contain the names of those who have signed the rental agreement and any other adult in the household.] However, this distribution is not the same for every county. Figure \@ref(fig:ftmratiofig) shows the smoothed averages of the female to male ratio of adult defendants. Pierce, Spokane, Clark, and all "other" counties with less than 700 evictions a year (n = 34) have a higher ratio of around 11% more eviction filings for women than men. King County and neighboring Snohomish County have slightly more men evicted than women at roughly 3% on average<!--  (see Table \@ref(tab:ftmratio) -->.

## Race of the evicted



```{r racefig, echo = FALSE, message = FALSE, fig.cap = "Race Differences in Evictions for Select WA Counties", cache = TRUE}

    ev_ratio %>%
      select(County, race, ev_rate) %>%
      spread(race, ev_rate) %>%
      gather(race, rate, Asian:White) %>%
      filter(race != "Other") %>%
    ggplot() +
      geom_bar(aes(x = County, y = rate, fill = race),
           position = "dodge",
           stat = "identity") +
      theme_minimal() +
      scale_y_continuous(labels = scales::percent) +
      scale_fill_brewer("Race",
           palette = "Dark2") +
      labs(y = "% of Adults",
           title = "Percent of adults formally evicted within their\nrespective racial group from 2013 to 2017",
           caption = "Data source: UW Washington Evictions Project data")
```

The most troubling results from this analysis is the huge racial disparity of Black adults who faced eviction filings.^[We estimate race of the evicted based on the name and census tract. While our methodology gives good overall estimates, the results may be biased toward the racial majority in the corresponding tracts. However, we have compared these rates to actual demographic intake rates by the Housing Justice Project and they fall within a couple percentage points to their actual intake counts.] When comparing the court records for three counties to their respective 2012 to 2017 adult population, we find that 9% of Black adults in King County and 17% of Black adults in Pierce faced an eviction within a 5-year period (see Figure \@ref(fig:racefig)). Whatcom's Black population is much smaller (less than 1%) than King (5.5%) and Pierce (6.6%) and only faced an eviction rate of 1.4%. Latinx adults, a population close to the proportion of Black adults in these counties (compositions of 7.6%, 8.1%, and 7% respectively), faced much lower eviction rates of 3% in King, 3.7% in Pierce, and 1.8% in Whatcom. White adults came in third with roughly 1.5% and 2.6% eviction rates while Asian adults faced the lowest rate of 0.5% and 1.7%.^[One drawback from using race estimations and census data is the lack of detail within ethnic groups and, therefore, potential under-evaluation of disparities in evictions. For example, the overall Asian eviction rate is the lowest of all groups, however, there may be some groups within this ethnic category that have a high rate of evictions over another. One possible solution for future work is to disaggregate Asian backgrounds by using their first name, which can be more closely identified with a particular region of Asia and potentially more precise estimation.]

When comparing each of these racial groups to the White eviction rates, Black adults are evicted 5.5 times more than Whites in King County, 6.8 times more in Pierce, and only .9 less in Whatcom (see Table \@ref(tab:racetableev). Latinx adults are evicted 1.9 times and 1.4 times more than whites in King and Pierce and only 10% more in Whatcom. Asian adults are evicted almost half as much as Whites.

```{r racetableev, echo = FALSE, message = FALSE, cache = TRUE}

knitr::kable(
  ev_ratio %>%
  group_by(County) %>%
  mutate(est_ev = round(est_ev,0),
         ev_rate = paste(round(ev_rate*100, 1), "%"),
         ratio_wht = ifelse(race == "White", "---", round(ratio_wht, 1)),
         est_ev = clean(est_ev),
         percents = paste0(round(adults/sum(adults)*100, 1), "%"),
         adults = clean(adults)) %>%
  select(County,
         `Race & Ethnicity` = race,
         Adults = adults,
         `County Adult Race Percents` = percents,
         `Evicted Adults` = est_ev,
         `Percent of Evicted Adults` = ev_rate,
         `Eviction Ratio to white` = ratio_wht),
  caption = "Eviction counts, rates, and ratios by race",
  align = 'r') %>%
  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"))
```


# Why these trends? {#why}
## Affordable housing, homelessness, and evictions

```{r wahomeless, fig.height=7 , echo = FALSE, message = FALSE, fig.cap = "Trends in affordable housing, homelessness, and evictions for Washington State", cache = TRUE}

  # Affordable homes

  aff_homes <- function(place){
    ggplot(data = runits %>%
                     filter(NAME == place,
                           !year %in% c(2015,2016),
                           Rent %in% c(#"$2,000 or more",
                                       # "$1,500 to $1,999",
                                       # "$1,000 to $1,499",
                                       # "$800 to $999",
                                       "$500 to $799",
                                       "Less than $500"
                                       )) %>%
                      group_by(NAME, year) %>%
                      summarise(count = sum(count)),
                      aes(x = year, y = count)) +
    theme_minimal() +
    scale_x_continuous(breaks=c(2000:2018)) +
    scale_y_continuous(labels = scales::comma) +
    geom_line(size = 1.5, color = "black") +
    geom_point(size = 2.5, alpha = .5) +
    coord_cartesian(xlim = c(2000:2018)) +
    labs(title = paste0(place, " trends in affordable housing,\nhomelessness, and evictions"),
         subtitle = "Affordable rental units at $800 or less (2017 dollars)",x = "", y = "Affordable Rental Units") +
    theme(axis.text.x = element_text(angle = -45, hjust = 0))}

  # Homelessness PIT count

  pitct <- function(place){
    ggplot(data = homeless %>%
                     filter(county == place),
              aes(x = year, y = homeless)) +
    theme_minimal() +
    scale_x_continuous(breaks=c(2000:2018)) +
    scale_y_continuous(labels = scales::comma) +
    geom_smooth(color = "red", size = 1.5, se = FALSE) +
    geom_point(color = "red", size = 1.5, alpha = .5) +
    coord_cartesian(xlim = c(2000:2018)) +
    labs(x = "Year",
         y = "Individuals who are homeless",
         subtitle = "Homelessness point in time count") +
    theme(axis.text.x = element_text(angle = -45, hjust = 0))
  }

  # Number of evictions

  evict <- function(place){
    ggplot(data = year_counts %>% filter(County == place), aes(x = Year, y = Count)) +
    theme_minimal() +
    scale_x_continuous(breaks=c(2000:2018)) +
    scale_y_continuous(labels = scales::comma) +
    geom_smooth(color = "cornflowerblue", size = 1.5, se = FALSE) +
    geom_point(alpha = .5, color = "cornflowerblue") +
    coord_cartesian(xlim = c(2000:2018)) +
    labs(x = "",
         y = "Eviction Cases",
         subtitle = "Eviction cases from 2004 to 2017",
         caption = "Data source: US Census American Community Survey,\nWashington State Department of Commerce Annual Point in Time Count") +
    theme(axis.text.x = element_text(angle = -45, hjust = 0))}

  graphs1 <- function(place){
    ggpubr::ggarrange(
    aff_homes(place),
    pitct(place),
    evict(place),
    ncol=1,
    nrow = 3,
    common.legend = TRUE,
    legend="right")}

  graphs1("Washington")

  wa_aff_homes <-
    runits %>%
    filter(NAME == "Washington",
           !year %in% c(2015,2016),
           Rent %in% c(#"$2,000 or more",
                      # "$1,500 to $1,999",
                      # "$1,000 to $1,499",
                      # "$800 to $999",
                      "$500 to $799",
                      "Less than $500"
                      )) %>%
    group_by(NAME, year) %>%
    summarise(count = sum(count))

```

The above figure shows Washington's trends in affordable housing units at $800, changes in homelessness according to the yearly point in time counts, and and the trend in eviction cases. Overall, we see that around the Great Recession, there was a high rate of homelessness and evictions even when there was more affordable housing. This corresponds with the overall economic crisis at that time where a large proportion of all households faced huge economic disadvantages. After the recovery from the recession, affordable units slightly increased along with declines in homelessness and evictions. However, by 2012, Washington started to lose affordable housing largely to rising rents, where the following year started an increase in homelessness. During this time, evictions kept a steady pace until about 2014 where it started to slump while homelessness took a drastic rise. By 2017, we lost a large portion of affordable housing stock, see homelessness increasing beyond Great Recession numbers, and evictions keeping a steady pace since 2009. It should be noted that while evictions seem down, there are still over 18,000 cases, only a few percentage points down from eight years before.

Given that evictions contributes to homelessness, the steady stream of evictions likely fed people into the homeless population each year while the loss of affordable housing exacerbated the problem. In contrast to the Great Recession, where almost all households felt the economic crisis, the period between 2012 to 2017 seems to have largely impacted low-income households that may not have recovered from losses during the Great Recession. In other words, our overall growing economy over the past eight years may have concealed the danger of housing insecurity among the most vulnerable Washington citizens. Surveys during the point in time count show that each year, over 90% of those counted were from Washington State^[[All Home Count Us In Reports](http://allhomekc.org/king-county-point-in-time-pit-count/)] meaning that our homeless population is largely our own people and the myth of the migrant homeless doesn't hold up. Rather, the Urban Institute Study^[[DC’s Eviction Filings Are Down. Are High Rents to Blame?](https://greaterdc.urban.org/blog/dcs-eviction-filings-are-down-are-high-rents-blame)] referring to a connection between decreasing evictions and affordable housing as a result of losing low-income households seems to be a likely relationship for Washington as well. In our case, we seem to have fewer households to evict possibly because they have entered into homelessness.


```{r kinghomeless, fig.height=7, warnings = FALSE, echo = FALSE, message = FALSE, fig.cap = "Trends in affordable housing, homelessness, and evictions for King County", cache = TRUE}

  graphs1("King")

```

When we look solely at King County (above), we see a more pronounced relationship in the decline in evictions and affordable housing along with a rapid increase in homelessness. On a more micro-level, the loss of affordable housing coincides with a decline in evictions potentially because tenants who are evicted:

* face a difficult time finding new housing because of their record;
* are mostly low-income so they cannot afford the fair market rent;
* and even those with housing vouchers have a difficult time finding housing because landlords are hesitant to rent to voucher holders because of stigma and may prefer to receive higher rent from a non-voucher holding tenant.

It is becoming increasingly evident that evictions seems to be one of the direct mechanism between the current housing crisis and increases in homelessness. A recent McKinsey report says that

_"[t]he rise in homelessness cannot be explained by population growth or rising poverty, as there has been little of the former, and the latter has fallen."_^[[The economics of homelessness in Seattle and King County](https://www.mckinsey.com/featured-insights/future-of-cities/the-economics-of-homelessness-in-seattle-and-king-county)]

meaning that other mechanisms are at play. While the McKinsey report finds a correlation between the rise in homelessness and the rise in fair-market rent, our report seems to add evictions to this relationship.

## 46% of WA renters are rent burdened

```{r countyrb, echo = FALSE, message = FALSE, fig.cap = "Rent Burden: the percent of household income going to rent", cache = TRUE}

  source("/data/Functions/Rent_Gist.R")

  ggpubr::ggarrange(
  plot_wa_rb(wa_rb),
  plot_wa_rb(wa_rb, y = "prop", labels = scales::percent, y_axis = ""),
  # plot_co_rb(county = "Snohomish"),
  # plot_co_rb(county = "Snohomish", y = "prop", labels = scales::percent, y_axis = ""),
  # plot_co_rb(county = "King"),
  # plot_co_rb(county = "King", y = "prop", labels = scales::percent, y_axis = ""),
  # plot_co_rb(county = "Pierce"),
  # plot_co_rb(county = "Pierce", y = "prop", labels = scales::percent, y_axis = ""),
  ncol= 1,
  nrow = 2,
  common.legend = TRUE,
  legend="right")
```

Almost half of all renters (46%) are rent burdened. Of those households, close to half of them are paying more than 50% of their income to rent. This means that about 250,000 households are paying between 30% to 50% of their income to rent and another 250,000 are paying over half their income to rent--a combined total of 500,000 households. This leaves a large portion of the population near the brink of losing their homes.

## FMR rent and RB incomes

```{r whocan, echo = FALSE, message = FALSE, fig.cap = "Rents and incomes need to afford rent", cache = TRUE}

  hudfmr <- fread("/data/hud_fmr/hudfmr.csv.bz2")

  # FMR
  # fmryearly(hudfmr, "Washington")
  # fmryearly(hudfmr, "King", ylim = c(1200, 2250))

  ggplot() +
      theme_minimal() +
      geom_smooth(data = hudfmr %>% filter(State == "WA", countyname %in% c("Washington", "King", "Pierce", "Spokane", "Clark")),
                  aes(x = year, y = fmr_avg_cpi, color = countyname), se = FALSE) +
      labs(title = "Fair market rent for all bedroom types (left)\n& income needed to avoid rent burden (right)",
           subtitle = "rent burden = 30% of income to rent",
           y = "Rent",
           x = "Year",
           caption = "Data source: HUD Fair Market Rent data &\nthe Bureau of Labor Statistics Consumer Price Index") +
      # coord_cartesian(ylim = c(700,2500)) +
      scale_color_brewer("Counties",
                         palette = "Set1",
                         breaks=c("King", "Clark", "Pierce", "Spokane", "Washington"),
                         labels=c("King & Snohomish", "Clark", "Pierce", "Spokane", "Washington State")) +
      scale_y_continuous(labels = scales::dollar,
                         sec.axis = sec_axis(~(.*12)/.3, name = "Income needed to afford rent", labels = scales::dollar)) +
      scale_x_continuous(breaks=c(2003:2019)) +
      theme(axis.text.x = element_text(angle = -45, hjust = 0),
          panel.grid.minor.x = element_blank())


  # Income needed to avoid rent burden
  # rbincome(hudfmr, "Washington")
  # rbincome(hudfmr, "King", ylim = c(45000, 90000))
  # rbincome(hudfmr, "Pierce")

  # Number of households that are rent burdened
  # rbhh("Washington")
  # rbhh("King")
  # rbhh("Pierce")
  # rbhh("Snohomish")
  # rbhh("Spokane")
  # rbhh("Clark")

```

Figure \@ref(fig:whocan) above shows the going rents across the state and within the top five most populated counties. On the left-hand side is the HUD fair market rent^[Rent data is difficult to calculate and no one institution or group has the best data on it. The US Census provides an estimate but it is severally under-estimated while companies like Zillow and Redfin provide highly over-estimated rents because they tend oversample luxury and high-cost apartments. The US Department of Housing and Urban Development (HUD) provides a good middle ground that factors in several datasets and is the primary tool to determine fair market rent (FMR) values for their housing voucher recipients. For these reasons, we use HUD's FMR as our cost of rent.] adjusted for 2017 dollars. Washington (the orange line) had rents under $800^[Averaged rent for all bedroom types.] in 2003 and saw an average increase to $1,000. When calculating how much income is needed to avoid 30% rent burden,^[ $income needed = (rent \cdot 12 months)/.30$ ] $1,000 rent requires an income of $40,000 after taxes. Overall, you can seen that, again, in 2012, rents started to sharply increase in the most populated counties. In King, you need about $90,000 after taxes to afford the conservative estimate $2,200 in rent. In Clark, you need about $65,000 while in Pierce, you need about $55,000.

## Median household incomes by race

<!-- Median Household Income -->
```{r medinc, echo = FALSE, message = FALSE, fig.cap = "Median Household Income by Race and Area Median Income", cache = TRUE}

  source("/data/Functions/Income_Gist.R")

  ggpubr::ggarrange(
  plot_wa_medinc(),
  plot_co_medinc(county = "King") +
    annotate("text", x = 2007, y = 62000, label = "80% AMI") +
    annotate("text", x = 2007, y = 39000, label = "50% AMI") +
    annotate("text", x = 2007, y = 23500, label = "30% AMI"),
  ncol=2,
  nrow = 1,
  common.legend = TRUE,
  legend="bottom")
```

Finally, when looking at incomes by race (Figure \@ref(fig:medinc) above) there are distinctions between different groups. For Washington State (left graph) the overall median household income (green) took a hit during the recession but recovered to about $70,000. By median, we mean that half of the population is above $70,000 and half are below. White median household incomes fall just above the overall median while Asian increased well above reaching upwards of $90,000. Black and Latinx, however, fall below the 80% area median income (AMI) line which signifies "low-income". Fifty percent signifies very-low-income and 30% signifies extremely-low-income.^[These AMI cutoffs were developed by the Housing and Urban Development Department to determine thresholds necessary for housing choice vouchers.] The right graph shows King County where the overall median falls near white and Asian incomes while Latinx households are just below the low-income threshold and black median incomes are just above the very-low-income threshold. The legacy of segregation in has largely contributed to the consistently low incomes for black and Latinx households where redlining, block-busting, and housing covenants disallowed lending to households of color and access to segregated white neighborhoods that saw improved conditions.

# Appendix

```{r otherhomeless, echo = FALSE, message = FALSE, fig.cap = "Trends in affordable housing, homelessness, and evictions in four other counties", cache = TRUE, fig.height=7}

  graphs1("Pierce")
  graphs1("Snohomish")
  graphs1("Spokane")
  graphs1("Clark")

```

# Updates and Corrections {#correct}

___2019-02-10___ - Added a table for counts of unlawful detainers by county and year; several grammatical edits.

___2019-02-07___ - Correction: The WA count of homeless in figure 5.1 was accidentally doubled. Trends stayed the same but count was corrected.

___2019-02-07___ - Initial Release
